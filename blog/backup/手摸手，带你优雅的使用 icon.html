<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前言 | Amoursun&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blob/img/logo.ico">
    <meta name="description" content="作为技术博客, 文档, 技术整理">
    
    <link rel="preload" href="/blob/assets/css/0.styles.7e884038.css" as="style"><link rel="preload" href="/blob/assets/js/app.4985ca74.js" as="script"><link rel="preload" href="/blob/assets/js/2.3a52e1dc.js" as="script"><link rel="preload" href="/blob/assets/js/14.4ec65428.js" as="script"><link rel="preload" href="/blob/assets/js/3.27952042.js" as="script"><link rel="prefetch" href="/blob/assets/js/10.8da1df38.js"><link rel="prefetch" href="/blob/assets/js/100.ae60e234.js"><link rel="prefetch" href="/blob/assets/js/101.8f866dae.js"><link rel="prefetch" href="/blob/assets/js/102.50d272f7.js"><link rel="prefetch" href="/blob/assets/js/103.fccc0530.js"><link rel="prefetch" href="/blob/assets/js/104.31a0cb51.js"><link rel="prefetch" href="/blob/assets/js/105.92adec71.js"><link rel="prefetch" href="/blob/assets/js/106.2d107e7f.js"><link rel="prefetch" href="/blob/assets/js/107.959feb27.js"><link rel="prefetch" href="/blob/assets/js/108.5f2c9683.js"><link rel="prefetch" href="/blob/assets/js/11.a8a0c180.js"><link rel="prefetch" href="/blob/assets/js/12.b760b095.js"><link rel="prefetch" href="/blob/assets/js/13.ca8add3a.js"><link rel="prefetch" href="/blob/assets/js/15.22560209.js"><link rel="prefetch" href="/blob/assets/js/16.e7a01cce.js"><link rel="prefetch" href="/blob/assets/js/17.8a2cdc27.js"><link rel="prefetch" href="/blob/assets/js/18.f059d56d.js"><link rel="prefetch" href="/blob/assets/js/19.a66e9654.js"><link rel="prefetch" href="/blob/assets/js/20.a0023974.js"><link rel="prefetch" href="/blob/assets/js/21.d14005fe.js"><link rel="prefetch" href="/blob/assets/js/22.64dea7be.js"><link rel="prefetch" href="/blob/assets/js/23.a8219a05.js"><link rel="prefetch" href="/blob/assets/js/24.41bd5f48.js"><link rel="prefetch" href="/blob/assets/js/25.7b17d849.js"><link rel="prefetch" href="/blob/assets/js/26.714d6442.js"><link rel="prefetch" href="/blob/assets/js/27.ef10f65a.js"><link rel="prefetch" href="/blob/assets/js/28.7b927fe6.js"><link rel="prefetch" href="/blob/assets/js/29.5828b12f.js"><link rel="prefetch" href="/blob/assets/js/30.58877edf.js"><link rel="prefetch" href="/blob/assets/js/31.28e54597.js"><link rel="prefetch" href="/blob/assets/js/32.615018b3.js"><link rel="prefetch" href="/blob/assets/js/33.fa4ea9fb.js"><link rel="prefetch" href="/blob/assets/js/34.e0b3991b.js"><link rel="prefetch" href="/blob/assets/js/35.03f9ca3b.js"><link rel="prefetch" href="/blob/assets/js/36.22aadb25.js"><link rel="prefetch" href="/blob/assets/js/37.f40a218d.js"><link rel="prefetch" href="/blob/assets/js/38.d716ad5d.js"><link rel="prefetch" href="/blob/assets/js/39.f897bf7d.js"><link rel="prefetch" href="/blob/assets/js/4.526affc8.js"><link rel="prefetch" href="/blob/assets/js/40.e0130f92.js"><link rel="prefetch" href="/blob/assets/js/41.f62b7709.js"><link rel="prefetch" href="/blob/assets/js/42.a4dfdeaf.js"><link rel="prefetch" href="/blob/assets/js/43.ccd66d60.js"><link rel="prefetch" href="/blob/assets/js/44.01c2792c.js"><link rel="prefetch" href="/blob/assets/js/45.bace8e7f.js"><link rel="prefetch" href="/blob/assets/js/46.6082710f.js"><link rel="prefetch" href="/blob/assets/js/47.555d408e.js"><link rel="prefetch" href="/blob/assets/js/48.5efa5197.js"><link rel="prefetch" href="/blob/assets/js/49.07e18001.js"><link rel="prefetch" href="/blob/assets/js/5.319ab880.js"><link rel="prefetch" href="/blob/assets/js/50.fed79df5.js"><link rel="prefetch" href="/blob/assets/js/51.20de2394.js"><link rel="prefetch" href="/blob/assets/js/52.23af12a5.js"><link rel="prefetch" href="/blob/assets/js/53.6ee904e2.js"><link rel="prefetch" href="/blob/assets/js/54.2d5b6035.js"><link rel="prefetch" href="/blob/assets/js/55.5e61ca5f.js"><link rel="prefetch" href="/blob/assets/js/56.8ff792e3.js"><link rel="prefetch" href="/blob/assets/js/57.cb24f097.js"><link rel="prefetch" href="/blob/assets/js/58.9f3a83b1.js"><link rel="prefetch" href="/blob/assets/js/59.baca984d.js"><link rel="prefetch" href="/blob/assets/js/6.c72e890c.js"><link rel="prefetch" href="/blob/assets/js/60.32aa2fdc.js"><link rel="prefetch" href="/blob/assets/js/61.63601769.js"><link rel="prefetch" href="/blob/assets/js/62.f054fd3e.js"><link rel="prefetch" href="/blob/assets/js/63.e14fdeb7.js"><link rel="prefetch" href="/blob/assets/js/64.ebf3c9b9.js"><link rel="prefetch" href="/blob/assets/js/65.bc5022db.js"><link rel="prefetch" href="/blob/assets/js/66.2ff4b14b.js"><link rel="prefetch" href="/blob/assets/js/67.39adf659.js"><link rel="prefetch" href="/blob/assets/js/68.b3eb3b94.js"><link rel="prefetch" href="/blob/assets/js/69.dbad6150.js"><link rel="prefetch" href="/blob/assets/js/7.2c70a15b.js"><link rel="prefetch" href="/blob/assets/js/70.fcad70bd.js"><link rel="prefetch" href="/blob/assets/js/71.ef2060a2.js"><link rel="prefetch" href="/blob/assets/js/72.be3fa805.js"><link rel="prefetch" href="/blob/assets/js/73.d9250746.js"><link rel="prefetch" href="/blob/assets/js/74.0b13b5b1.js"><link rel="prefetch" href="/blob/assets/js/75.1adc0d64.js"><link rel="prefetch" href="/blob/assets/js/76.7174be6a.js"><link rel="prefetch" href="/blob/assets/js/77.66ba30e2.js"><link rel="prefetch" href="/blob/assets/js/78.9a2a085a.js"><link rel="prefetch" href="/blob/assets/js/79.6e3d46b7.js"><link rel="prefetch" href="/blob/assets/js/8.e3008a6a.js"><link rel="prefetch" href="/blob/assets/js/80.4e047132.js"><link rel="prefetch" href="/blob/assets/js/81.c9637afd.js"><link rel="prefetch" href="/blob/assets/js/82.8b5d73b3.js"><link rel="prefetch" href="/blob/assets/js/83.42f83979.js"><link rel="prefetch" href="/blob/assets/js/84.4f2fe48c.js"><link rel="prefetch" href="/blob/assets/js/85.3a10278a.js"><link rel="prefetch" href="/blob/assets/js/86.c840e03f.js"><link rel="prefetch" href="/blob/assets/js/87.156e973c.js"><link rel="prefetch" href="/blob/assets/js/88.0d1106b9.js"><link rel="prefetch" href="/blob/assets/js/89.d2b9f65d.js"><link rel="prefetch" href="/blob/assets/js/9.cfb7d66e.js"><link rel="prefetch" href="/blob/assets/js/90.15392fdb.js"><link rel="prefetch" href="/blob/assets/js/91.16d01a4e.js"><link rel="prefetch" href="/blob/assets/js/92.3caccd1e.js"><link rel="prefetch" href="/blob/assets/js/93.d3c52b2c.js"><link rel="prefetch" href="/blob/assets/js/94.b223e88e.js"><link rel="prefetch" href="/blob/assets/js/95.a0375505.js"><link rel="prefetch" href="/blob/assets/js/96.9a3a0e29.js"><link rel="prefetch" href="/blob/assets/js/97.417ab81a.js"><link rel="prefetch" href="/blob/assets/js/98.01c06125.js"><link rel="prefetch" href="/blob/assets/js/99.c347b007.js">
    <link rel="stylesheet" href="/blob/assets/css/0.styles.7e884038.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blob/" class="home-link router-link-active"><!----> <span class="site-name">Amoursun's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blob/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blob/links/stack.html" class="nav-link">
  链接
</a></div><div class="nav-item"><a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/blob/blog/js.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/blob/guide/video.html" class="nav-link">
  集合
</a></div><div class="nav-item"><a href="/blob/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blob/thought/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/react&amp;mobx/" class="nav-link">
  React &amp; Mobx
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/other/" class="nav-link">
  其他
</a></li></ul></div></div> <a href="https://github.com/amoursun/blob.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blob/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blob/links/stack.html" class="nav-link">
  链接
</a></div><div class="nav-item"><a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/blob/blog/js.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/blob/guide/video.html" class="nav-link">
  集合
</a></div><div class="nav-item"><a href="/blob/interview/" class="nav-link">
  面试
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blob/thought/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/es6/" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/react&amp;mobx/" class="nav-link">
  React &amp; Mobx
</a></li><li class="dropdown-item"><!----> <a href="/blob/thought/other/" class="nav-link">
  其他
</a></li></ul></div></div> <a href="https://github.com/amoursun/blob.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Blog</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blob/blog/es6.html" class="sidebar-link">ES6</a></li><li><a href="/blob/blog/fe.html" class="sidebar-link">前端</a></li><li><a href="/blob/blog/js.html" class="sidebar-link">Javascript</a></li><li><a href="/blob/blog/performance .html" class="sidebar-link">前端性能监控</a></li><li><a href="/blob/blog/product.html" class="sidebar-link">产品</a></li><li><a href="/blob/blog/talk.html" class="sidebar-link">Talk</a></li><li><a href="/blob/blog/typescript.html" class="sidebar-link">Ts</a></li><li><a href="/blob/blog/vue.html" class="sidebar-link">Vue</a></li><li><a href="/blob/blog/webpack.html" class="sidebar-link">Webpack</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <blockquote><p>本篇文章其实陆陆续续写了快半年，主体部分写好了很久了，但由于种种原因一直没有发布。<br>
首先来说说写这篇文章的主要初衷是：在做前端后台项目的时候经常会用到很多 icon 图标，刚开始还好，但随着项目的不断迭代，每次修改添加图标会变得很麻烦，而且总觉得不够优雅，就开始琢磨着有啥简单方便的工作流呢？</p></blockquote> <h2 id="演进史"><a href="#演进史" class="header-anchor">#</a> 演进史</h2> <p>首先我们来说一下前端 icon 的发展史。</p> <p><strong>远古时代</strong><br>
在我刚开始实习时，大部分图标都是用 img 来实现的。渐渐发现一个页面的请求资源中图片 img 占了大部分，所以为了优化有了<code>image sprite</code> 就是所谓的雪碧图，就是将多个图片合成一个图片，然后利用 css 的 background-position 定位显示不同的 icon 图标。但这个也有一个很大的痛点，维护困难。每新增一个图标，都需要改动原始图片，还可能不小心出错影响到前面定位好的图片，而且一修改雪碧图，图片缓存就失效了，久而久之你不知道该怎么维护了。</p> <p><img src="https://user-gold-cdn.xitu.io/2017/11/28/16000934d9f88e9c?w=528&amp;h=68&amp;f=png&amp;s=9826" alt=""></p> <p><strong>font 库</strong><br>
后来渐渐地一个项目里几乎不会使用任何本地的图片了，而使用一些 font 库来实现页面图标。常见的如 <a href="http://fontawesome.io/" target="_blank" rel="noopener noreferrer">Font Awesome<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，使用起来也非常的方便，但它有一个致命的缺点就是找起来真的很不方便，每次找一个图标特别的费眼睛，还有就是它的定制性也非常的不友善，它的图标库一共有 675 个图标，说少也不少，但还是会常常出现找不到你所需要图标的情况。当然对于没有啥特别 ui 追求的初创公司来说还是能忍一忍的。但随着公司的壮大，来了越来越多对前端指手画脚的人，丧心病狂的设计师，他们会说不！这 icon 这么丑，这简直是在侮辱他们高级设计师的称号啊！不过好在这时候有了<a href="http://iconfont.cn/" target="_blank" rel="noopener noreferrer">iconfont<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <p><strong>iconfont</strong><br>
一个阿里爸爸做的开源图库，人家还有专门的 <a href="https://github.com/thx/iconfont-plus/issues" target="_blank" rel="noopener noreferrer">github issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(虽然我的一个 issue 半年多了也没回应/(ㄒ o ㄒ)/~~)，但人家的图标数量还是很惊人的，不仅有几百个公司的开源图标库，还有各式各样的小图标，还支持自定义创建图标库，所以不管你是一家创业公司还是对设计很有要求的公司，它都能很好的帮助你解决管理图标的痛点。你想要的基本都有~</p> <p><img src="https://user-gold-cdn.xitu.io/2017/10/19/92e198653125f31275907d20f9322dbc" alt=""></p> <h2 id="iconfont-三种使用姿势"><a href="#iconfont-三种使用姿势" class="header-anchor">#</a> iconfont 三种使用姿势</h2> <h3 id="unicode"><a href="#unicode" class="header-anchor">#</a> unicode</h3> <p>最开始我们使用了<code>unicode</code>的格式，它主要的特点是<br> <strong>优势</strong></p> <ul><li>兼容性最好，支持 ie6+</li> <li>支持按字体的方式去动态调整图标大小，颜色等等</li></ul> <p><strong>劣势</strong></p> <ul><li>不支持多色图标</li> <li>在不同的设备浏览器字体的渲染会略有差别，在不同的浏览器或系统中对文字的渲染不同，其显示的位置和大小可能会受到 font-size、line-height、word-spacing 等 CSS 属性的影响，而且这种影响调整起来较为困难</li></ul> <p><strong>使用方法：</strong><br>
第一步：引入自定义字体 `font-face</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> @font-face {
   font-family: &quot;iconfont&quot;;
   src: url('iconfont.eot'); /* IE9*/
   src: url('iconfont.eot#iefix') format('embedded-opentype'), /* IE6-IE8 */
   url('iconfont.woff') format('woff'), /* chrome, firefox */
   url('iconfont.ttf') format('truetype'), /* chrome, firefox, opera, Safari, Android, iOS 4.2+*/
   url('iconfont.svg#iconfont') format('svg'); /* iOS 4.1- */
 }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>第二步：定义使用 iconfont 的样式</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>.iconfont {
  font-family:&quot;iconfont&quot; !important;
  font-size:16px;
  font-style:normal;
  -webkit-font-smoothing: antialiased;
  -webkit-text-stroke-width: 0.2px;
  -moz-osx-font-smoothing: grayscale;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>第三步：挑选相应图标并获取字体编码，应用于页面</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;i class=&quot;iconfont&quot;&gt;&amp;#xe604;&lt;/i&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>效果图：</p> <p><img src="https://user-gold-cdn.xitu.io/2017/10/19/212123363f183d2984e314cc89b9e113" alt=""></p> <p>其实它的原理也很简单，就是通过 <code>@font-face</code> 引入自定义字体(其实就是一个字体库)，它里面规定了<code>&amp;#xe604</code> 这个对应的形状就长这企鹅样。其实类似于 '花裤衩'，在不同字体设定下长得是不同的一样。</p> <p><img src="https://user-gold-cdn.xitu.io/2017/10/19/d142cf85062436fadef23bae4e3eafb3" alt=""></p> <p>不过它的缺点也显而易见，<code>unicode</code>的书写不直观，语意不明确。光看<code>&amp;#xe604;</code>这个<code>unicode</code>你完全不知道它代表的是什么意思。这时候就有了 <code>font-class</code>。</p> <h3 id="font-class"><a href="#font-class" class="header-anchor">#</a> font-class</h3> <p>与 unicode 使用方式相比，具有如下特点：</p> <ul><li>兼容性良好，支持 ie8+</li> <li>相比于 unicode 语意明确，书写更直观。可以很容易分辨这个 icon 是什么。</li></ul> <p><strong>使用方法：</strong><br>
第一步：拷贝项目下面生成的 fontclass 代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>../font_8d5l8fzk5b87iudi.css
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第二步：挑选相应图标并获取类名，应用于页面：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;i class=&quot;iconfont icon-xxx&quot;&gt;&lt;/i&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>效果图：</p> <p><img src="https://user-gold-cdn.xitu.io/2017/10/19/b4e0fbe350b5be037b5622ce06bf0392" alt="image.png"></p> <p>它的主要原理其实是和 <code>unicode</code> 一样的，它只是多做了一步，将原先<code>&amp;#xe604</code>这种写法换成了<code>.icon-QQ</code>，它在每个 class 的 before 属性中写了<code>unicode</code>,省去了人为写的麻烦。如 <code>.icon-QQ:before { content: &quot;\e604&quot;; }</code></p> <p>相对于<code>unicode</code> 它的修改更加的方便与直观。但也有一个大坑，之前楼主一个项目中用到了两组<code>font-class</code> 由于没有做好命名空间，所有的 class 都是放在<code>.iconfont</code> 命名空间下的，一上线引发了各种雪崩问题，修改了半天，所以使用<code>font-class</code>一定要注意命名空间的问题。</p> <h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> symbol</h3> <p>随着万恶的某某浏览器逐渐淡出历史舞台，svg-icon 使用形式慢慢成为主流和推荐的方法。相关文章可以参考张鑫旭大大的文章<a href="http://www.zhangxinxu.com/wordpress/2014/07/introduce-svg-sprite-technology/?spm=a313x.7781069.1998910419.50" target="_blank" rel="noopener noreferrer">未来必热：SVG Sprite 技术介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>支持多色图标了，不再受单色限制。</li> <li>支持像字体那样通过 font-size,color 来调整样式。</li> <li>支持 ie9+</li> <li>可利用 CSS 实现动画。</li> <li>减少 HTTP 请求。</li> <li>矢量，缩放不失真</li> <li>可以很精细的控制 SVG 图标的每一部分</li></ul> <p><strong>使用方法：</strong><br>
第一步：拷贝项目下面生成的 symbol 代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>引入  ./iconfont.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第二步：加入通用 css 代码（引入一次就行）：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">&lt;style type=&quot;text/css&quot;&gt;
    .icon</span> <span class="token punctuation">{</span>
       <span class="token property">width</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
       <span class="token property">vertical-align</span><span class="token punctuation">:</span> -0.15em<span class="token punctuation">;</span>
       <span class="token property">fill</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>
       <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
&lt;/style&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>第三步：挑选相应图标并获取类名，应用于页面：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#icon-xxx<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>使用 svg-icon 的好处是我再也不用发送<code>woff|eot|ttf|</code> 这些很多个字体库请求了，我所有的 svg 都可以内联在 html 内。</p> <p><img src="https://user-gold-cdn.xitu.io/2017/10/19/9dae2c582c3d2d3d62e9b5079b82348a" alt=""><br>
还有一个就是 svg 是一个真正的矢量，不管你再怎么的放缩它都不会失真模糊，而且 svg 可以控制的属性也更加的丰富，也能做出更加生动和复杂的图标。现在 ui 设计师平时都喜欢使用 sketch 来工作，只要轻松一键就能导出 svg 了，所以 svg 也更受设计师的青睐。<a href="https://css-tricks.com/icon-fonts-vs-svg/" target="_blank" rel="noopener noreferrer">Inline SVG vs Icon Fonts <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 这篇文章详细的比较了 <code>svg</code> 和 <code>icon-font</code>的优劣，大家可以去看看。PS：这里其实还用到了 <code>SVG Sprite</code> 技术。简单的理解就是类 svg 的似雪碧图，它在一个 svg 之中运用 symbol 标示了一个一个的 svg 图标，这样一个页面中我们遇到同样的 svg 就不用重复再画一个了，直接使用<code>&lt;use xlink:href=&quot;#icon-QQ&quot; x=&quot;50&quot; y=&quot;50&quot; /&gt;</code> 就能使用了，具体的细节可以看这篇文章开头的文章 <a href="http://www.zhangxinxu.com/wordpress/2014/07/introduce-svg-sprite-technology/" target="_blank" rel="noopener noreferrer">未来必热：SVG Sprite 技术介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在之后的文章中也会手摸手叫你自己如何制作 <code>SVG Sprite</code>。</p> <h2 id="创建-icon-component-组件"><a href="#创建-icon-component-组件" class="header-anchor">#</a> 创建 icon-component 组件</h2> <p>我们有了图标，接下来就是如何在自己的项目中优雅的使用它了。<br>
之后的代码都是基于 vue 的实例(ps: react 也很简单，原理都是类似的)</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>//components/Icon-svg
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>svg-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name">:xlink:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'icon-svg'</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span> <span class="token punctuation">{</span>
      iconClass<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> String<span class="token punctuation">,</span>
        required<span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">iconName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">#icon-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>iconClass<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.svg-icon</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
    <span class="token property">vertical-align</span><span class="token punctuation">:</span> -0.15em<span class="token punctuation">;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> currentColor<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//引入svg组件</span>
<span class="token keyword">import</span> IconSvg <span class="token keyword">from</span> <span class="token string">'@/components/IconSvg'</span>

<span class="token comment">//全局注册icon-svg</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'icon-svg'</span><span class="token punctuation">,</span> IconSvg<span class="token punctuation">)</span>

<span class="token comment">//在代码中使用</span>
<span class="token operator">&lt;</span>icon<span class="token operator">-</span>svg icon<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;password&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>就这样简单封装了一个 <code>Icon-svg</code> 组件 ，我们就可以简单优雅的在自己的 vue 项目之中使用图标了。</p> <h2 id="进一步改造"><a href="#进一步改造" class="header-anchor">#</a> 进一步改造</h2> <p>但作为一个有逼格的前端开发，怎能就此满足呢!目前还是有一个致命的缺点的，就是现在所有的 <code>svg-sprite</code> 都是通过 iconfont 的 <code>iconfont.js</code> 生成的。</p> <ul><li>首先它是一段用 js 来生成 svg 的代码，所有图标 icon 都很<strong>不直观</strong>。</li></ul> <p><img src="https://user-gold-cdn.xitu.io/2017/10/19/2338a1978a732b5cbc3995c3b5e57300" alt="如图所示"><br>
你完全不知道哪个图标名对应什么图标，一脸尼克扬问号??? 每次增删改图标只能整体 js 文件一起替换。</p> <ul><li>其次它也做不到<strong>按需加载</strong>，不能根据我们使用了那些 svg 动态的生成 <code>svg-sprite</code>。</li> <li><strong>自定义性差</strong>，通常导出的 svg 包含大量的无用信息，例如编辑器源信息、注释等。通常包含其它一些不会影响渲染结果或可以移除的内容。</li> <li><strong>添加不友善</strong>，如果我有一些自定义的 svg 图标，该如何和原有的 <code>iconfont</code> 整合到一起呢？目前只能将其也上传到 <code>iconfont</code> 和原有的图标放在一个项目库中，之后再重新下载，很繁琐。</li></ul> <h3 id="使用-svg-sprite"><a href="#使用-svg-sprite" class="header-anchor">#</a> 使用 svg-sprite</h3> <p>接下来我们就要自己来制作 <code>svg-sprite</code> 了。这里要使用到 <a href="https://github.com/kisenka/svg-sprite-loader" target="_blank" rel="noopener noreferrer">svg-sprite-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 这个神器了， 它是一个 webpack loader ，可以将多个 svg 打包成 <code>svg-sprite</code> 。</p> <p>我们来介绍如何在 <code>vue-cli</code> 的基础上进行改造，加入 <code>svg-sprite-loader</code>。</p> <p>我们发现<code>vue-cli</code>默认情况下会使用 <code>url-loader</code> 对 svg 进行处理，会将它放在<code>/img</code> 目录下，所以这时候我们引入<code>svg-sprite-loader</code> 会引发一些冲突。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//默认`vue-cli` 对svg做的处理，正则匹配后缀名为.svg的文件，匹配成功之后使用 url-loader 进行处理。</span>
 <span class="token punctuation">{</span>
    test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">'img/[name].[hash:7].[ext]'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>解决方案有两种，最简单的就是你可以将 test 的 svg 去掉，这样就不会对 svg 做处理了，当然这样做是很不友善的。</p> <ul><li>你不能保证你所有的 svg 都是用来当做 icon 的，有些真的可能只是用来当做图片资源的。</li> <li>不能确保你使用的一些第三方类库会使用到 svg。</li></ul> <p>所以最安全合理的做法是使用 webpack 的 <a href="https://webpack.js.org/configuration/module/#rule-exclude" target="_blank" rel="noopener noreferrer">exclude<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 和 <a href="https://webpack.js.org/configuration/module/#rule-include" target="_blank" rel="noopener noreferrer">include<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ，让<code>svg-sprite-loader</code>只处理你指定文件夹下面的 svg，<code>url-loaer</code>只处理除此文件夹之外的所以 svg，这样就完美解决了之前冲突的问题。<br>
代码如下</p> <p><img src="https://user-gold-cdn.xitu.io/2017/10/19/28b4391b217a47ab403c659480a192ef" alt=""></p> <p>这样配置好了，只要引入 svg 之后填写类名就可以了</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> '@<span class="token operator">/</span>src<span class="token operator">/</span>icons<span class="token operator">/</span>qq<span class="token punctuation">.</span>svg<span class="token punctuation">;</span> <span class="token comment">//引入图标</span>

<span class="token operator">&lt;</span>svg<span class="token operator">&gt;</span><span class="token operator">&lt;</span>use xlink<span class="token operator">:</span>href<span class="token operator">=</span><span class="token string">&quot;#qq&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>svg<span class="token operator">&gt;</span>  <span class="token comment">//使用图标</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>单这样还是非常的不优雅，如果我项目中有一百个 icon，难不成我要手动一个个引入么！ <strong>偷懒是程序员的第一生产力！！！</strong></p> <h2 id="自动导入"><a href="#自动导入" class="header-anchor">#</a> 自动导入</h2> <p>首先我们创建一个专门放置图标 icon 的文件夹如：<code>@/src/icons</code>，将所有 icon 放在这个文件夹下。<br>
之后我们就要使用到 webpack 的 <a href="https://webpack.js.org/guides/dependency-management/#require-context" target="_blank" rel="noopener noreferrer">require.context<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。很多人对于 <code>require.context</code>可能比较陌生，直白的解释就是</p> <blockquote><p>require.context(&quot;./test&quot;, false, /.test.js$/);<br>
这行代码就会去 test 文件夹（不包含子目录）下面的找所有文件名以 <code>.test.js</code> 结尾的文件能被 require 的文件。<br>
更直白的说就是 我们可以通过正则匹配引入相应的文件模块。</p></blockquote> <p>require.context 有三个参数：</p> <ul><li>directory：说明需要检索的目录</li> <li>useSubdirectories：是否检索子目录</li> <li>regExp: 匹配文件的正则表达式</li></ul> <p>了解这些之后，我们就可以这样写来自动引入 <code>@/src/icons</code> 下面所有的图标了</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">requireAll</span> <span class="token operator">=</span> <span class="token parameter">requireContext</span> <span class="token operator">=&gt;</span> requireContext<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>requireContext<span class="token punctuation">)</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> require<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./svg'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
<span class="token function">requireAll</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>之后我们增删改图标直接直接文件夹下对应的图标就好了，什么都不用管，就会自动生成 <code>svg symbol</code>了。</p> <p><img src="https://user-gold-cdn.xitu.io/2017/11/27/15ffc860a0fe3fed?w=1156&amp;h=138&amp;f=png&amp;s=81800" alt=""></p> <h2 id="更进一步优化自己的-svg"><a href="#更进一步优化自己的-svg" class="header-anchor">#</a> 更进一步优化自己的 svg</h2> <p>首先我们来看一下 从 <code>阿里iconfont</code> 网站上导出的 svg 长什么样？</p> <p><img src="https://user-gold-cdn.xitu.io/2017/11/27/15ffcbc9289b7613?w=1482&amp;h=362&amp;f=png&amp;s=202494" alt=""></p> <p>没错虽然 iconfont 网站导出的 svg 内容已经算蛮精简的了，但你会发现其实还是与很多无用的信息，造成了不必要的冗余。就连 iconfont 网站导出的 svg 都这样，更不用说那些更在意 ui 漂不漂亮不懂技术的设计师了(可能)导出的 svg 了。好在 <code>svg-sprite-loader</code>也考虑到了这点，它目前只会获取 svg 中 path 的内容，而其它的信息一概不会获取。生成 svg 如下图：</p> <p><img src="https://user-gold-cdn.xitu.io/2017/11/27/15ffcc7231fc7aed?w=1146&amp;h=105&amp;f=png&amp;s=50474" alt=""></p> <p>但任何你在 path 中产生的冗余信息它就不会做处理了。如注释什么的</p> <p><img src="https://user-gold-cdn.xitu.io/2017/11/27/15ffcc9535745d8d?w=1512&amp;h=296&amp;f=png&amp;s=124956" alt=""></p> <p>这时候我们就要使用另一个很好用的东西了-- <a href="https://github.com/svg/svgo" target="_blank" rel="noopener noreferrer">svgo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>SVG files, especially exported from various editors, usually contain a lot of redundant and useless information such as editor metadata, comments, hidden elements, default or non-optimal values and other stuff that can be safely removed or converted without affecting SVG rendering result.</p></blockquote> <p>它支持几十种优化项，非常的强大，8k+的 star 也足以说明了问题。</p> <p>详细的操作可以参照 <a href="https://github.com/svg/svgo" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://www.zhangxinxu.com/wordpress/2016/02/svg-compress-tool-svgo-experience/" target="_blank" rel="noopener noreferrer">张鑫旭大大的文章<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（没错又是这位大大的文章，或许这就是大佬吧！）本文就不展开了。</p> <h2 id="写在最后"><a href="#写在最后" class="header-anchor">#</a> 写在最后</h2> <p>上面大概阐述了一下前端项目中 icon 使用的演进史。<br>
总的来说还是那句话，<strong>适合的才是最好的</strong>。就拿之前争论的选择 vue react 还是 angular，个人觉得每个框架都有自己的特点和适用的业务场景，所以所有不结合业务场景的推荐和讨论都是瞎 bb。。。如上文其实大概讲了五种前端 icon 的使用场景，第一种<code>Font Awesome</code>不用它并不是因为它不好，而是业务场景不适合，如果你团队没有专门的设计师或者对 icon 的自定义度不高完全可以使用它，<a href="https://github.com/FortAwesome/Font-Awesome" target="_blank" rel="noopener noreferrer">Font Awesome<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> github 有五万多 star，足见社区对它的认可。还比如说，你们项目对低端浏览器有较高的适配要求，你还强行要用 svg 作为图标 icon，那你真的是存心和自己过不去了。所以所有方案都没有绝对的优与劣之分，适合自己业务场景，解决自己实际痛点，提高自己开发效率的方案就是好的方案。</p> <h2 id="占坑"><a href="#占坑" class="header-anchor">#</a> 占坑</h2> <p>本文所涉及的技术在 <a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener noreferrer">vue-element-admin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 中可以找到完整的实例。<br> <code>vue-element-admin</code>也发布了新版本和配套的<a href="https://panjiachen.github.io/vue-element-admin-site/#/" target="_blank" rel="noopener noreferrer">中文文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>(文档真的写的我要吐血了)不管使不使用本项目都推荐一看，应该能对你写 vue 的项目有所帮助。欢迎使用和提出不足。<br>
楼主个人免费<a href="https://jianshiapp.com/circles/1209" target="_blank" rel="noopener noreferrer">圈子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>系列文章：</p> <ul><li><a href="https://juejin.im/post/59097cd7a22b9d0065fb61d2" target="_blank" rel="noopener noreferrer">手摸手，带你用 vue 撸后台 系列一（基础篇）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/591aa14f570c35006961acac" target="_blank" rel="noopener noreferrer">手摸手，带你用 vue 撸后台 系列二(登录权限篇)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/593121aa0ce4630057f70d35" target="_blank" rel="noopener noreferrer">手摸手，带你用 vue 撸后台 系列三 (实战篇)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/595b4d776fb9a06bbe7dba56" target="_blank" rel="noopener noreferrer">手摸手，带你用 vue 撸后台 系列四(vueAdmin 一个极简的后台基础模板)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/5c92ff94f265da6128275a85" target="_blank" rel="noopener noreferrer">手摸手，带你用 vue 撸后台 系列五(v4.0 新版本)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://segmentfault.com/a/1190000009090836" target="_blank" rel="noopener noreferrer">手摸手，带你封装一个 vue component<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/59bb864b5188257e7a427c09" target="_blank" rel="noopener noreferrer">手摸手，带你优雅的使用 icon<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/5b56909a518825195f499806" target="_blank" rel="noopener noreferrer">手摸手，带你用合理的姿势使用 webpack4（上）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/5b5d6d6f6fb9a04fea58aabc" target="_blank" rel="noopener noreferrer">手摸手，带你用合理的姿势使用 webpack4（下）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于(Last Updated):</span> <span class="time">10/6/2021, 9:55:56 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blob/assets/js/app.4985ca74.js" defer></script><script src="/blob/assets/js/2.3a52e1dc.js" defer></script><script src="/blob/assets/js/14.4ec65428.js" defer></script><script src="/blob/assets/js/3.27952042.js" defer></script>
  </body>
</html>
